{
  "version": 3,
  "sources": ["../../../../Documents/code/chords-svelte/netlify/functions/getAllSongs.js"],
  "sourceRoot": "C:/Users/Emil/AppData/Local/Temp/tmp-16652-5irodiTlvlkD",
  "sourcesContent": ["import fs from \"fs\"\r\n\r\nexport const handler = async () => {\r\n\r\n    const chordsDirectory = `./netlify/functions/chords/`\r\n    const artists = fs.readdirSync(chordsDirectory);\r\n    const allSongs = artists.flatMap(artist => {\r\n        const artistDirectory = `${chordsDirectory}/${artist}`\r\n        const fileNames = fs.readdirSync(artistDirectory);\r\n        return fileNames.map((fileName) => {\r\n            const title = fileName.slice(0, -3);\r\n            const path = `/${artist}/${title}`\r\n            return {\r\n                artist,\r\n                title,\r\n                path\r\n            }\r\n        });\r\n    })\r\n\r\n    allSongs.sort(({ path: a }, { path: b }) => {\r\n        return a < b ? -1 : a > b ? 1 : 0;\r\n    });\r\n\r\n\r\n    return {\r\n        statusCode: 200,\r\n        body: JSON.stringify({\r\n            allSongsData: allSongs\r\n        }),\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n    }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAe;AAER,IAAM,UAAU,YAAY;AAE/B,QAAM,kBAAkB;AACxB,QAAM,UAAU,kBAAG,YAAY,eAAe;AAC9C,QAAM,WAAW,QAAQ,QAAQ,YAAU;AACvC,UAAM,kBAAkB,GAAG,mBAAmB;AAC9C,UAAM,YAAY,kBAAG,YAAY,eAAe;AAChD,WAAO,UAAU,IAAI,CAAC,aAAa;AAC/B,YAAM,QAAQ,SAAS,MAAM,GAAG,EAAE;AAClC,YAAM,OAAO,IAAI,UAAU;AAC3B,aAAO;AAAA,QACH;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAAA,IACJ,CAAC;AAAA,EACL,CAAC;AAED,WAAS,KAAK,CAAC,EAAE,MAAM,KAAK,EAAE,MAAM,QAAQ;AACxC,WAAO,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI;AAAA,EACpC,CAAC;AAGD,SAAO;AAAA,IACH,YAAY;AAAA,IACZ,MAAM,KAAK,UAAU;AAAA,MACjB,cAAc;AAAA,IAClB,CAAC;AAAA,IACD,SAAS;AAAA,MACL,gBAAgB;AAAA,MAChB,+BAA+B;AAAA,IACnC;AAAA,EACJ;AACJ;",
  "names": []
}
